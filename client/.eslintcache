[{"/mnt/c/Users/leeri/compstore/client/src/index.js":"1","/mnt/c/Users/leeri/compstore/client/src/reportWebVitals.js":"2","/mnt/c/Users/leeri/compstore/client/src/App.js":"3","/mnt/c/Users/leeri/compstore/client/src/pages/Home.js":"4","/mnt/c/Users/leeri/compstore/client/src/pages/auth/Register.js":"5","/mnt/c/Users/leeri/compstore/client/src/pages/auth/Login.js":"6","/mnt/c/Users/leeri/compstore/client/src/components/nav/Header.js":"7","/mnt/c/Users/leeri/compstore/client/src/firebase.js":"8","/mnt/c/Users/leeri/compstore/client/src/pages/auth/RegisterComplete.js":"9","/mnt/c/Users/leeri/compstore/client/src/reducers/index.js":"10","/mnt/c/Users/leeri/compstore/client/src/reducers/userReducer.js":"11","/mnt/c/Users/leeri/compstore/client/src/pages/auth/ForgotPassword.js":"12","/mnt/c/Users/leeri/compstore/client/src/pages/user/History.js":"13","/mnt/c/Users/leeri/compstore/client/src/pages/user/Password.js":"14","/mnt/c/Users/leeri/compstore/client/src/pages/user/Wishlist.js":"15","/mnt/c/Users/leeri/compstore/client/src/functions/auth.js":"16","/mnt/c/Users/leeri/compstore/client/src/components/nav/UserNav.js":"17","/mnt/c/Users/leeri/compstore/client/src/components/routes/AdminRoute.js":"18","/mnt/c/Users/leeri/compstore/client/src/components/routes/UserRoute.js":"19","/mnt/c/Users/leeri/compstore/client/src/components/routes/LoadingToRedirect.js":"20","/mnt/c/Users/leeri/compstore/client/src/pages/admin/AdminDashboard.js":"21","/mnt/c/Users/leeri/compstore/client/src/pages/admin/category/CategoryUpdate.js":"22","/mnt/c/Users/leeri/compstore/client/src/pages/admin/category/CategoryCreate.js":"23","/mnt/c/Users/leeri/compstore/client/src/components/nav/AdminNav.js":"24","/mnt/c/Users/leeri/compstore/client/src/functions/category.js":"25","/mnt/c/Users/leeri/compstore/client/src/components/forms/CategoryForm.js":"26"},{"size":849,"mtime":1611331289368,"results":"27","hashOfConfig":"28"},{"size":362,"mtime":1611187435835,"results":"29","hashOfConfig":"28"},{"size":2800,"mtime":1611449225862,"results":"30","hashOfConfig":"28"},{"size":143,"mtime":1611189653864,"results":"31","hashOfConfig":"28"},{"size":1592,"mtime":1611330701661,"results":"32","hashOfConfig":"28"},{"size":3917,"mtime":1611430687439,"results":"33","hashOfConfig":"28"},{"size":2025,"mtime":1611449929088,"results":"34","hashOfConfig":"28"},{"size":680,"mtime":1611258893347,"results":"35","hashOfConfig":"28"},{"size":2277,"mtime":1611330732231,"results":"36","hashOfConfig":"28"},{"size":178,"mtime":1611263013959,"results":"37","hashOfConfig":"28"},{"size":223,"mtime":1611329478190,"results":"38","hashOfConfig":"28"},{"size":1648,"mtime":1611332113615,"results":"39","hashOfConfig":"28"},{"size":330,"mtime":1611444502774,"results":"40","hashOfConfig":"28"},{"size":1705,"mtime":1611444535577,"results":"41","hashOfConfig":"28"},{"size":333,"mtime":1611444553655,"results":"42","hashOfConfig":"28"},{"size":644,"mtime":1611444302596,"results":"43","hashOfConfig":"28"},{"size":590,"mtime":1611444140069,"results":"44","hashOfConfig":"28"},{"size":800,"mtime":1611446152846,"results":"45","hashOfConfig":"28"},{"size":377,"mtime":1611445400338,"results":"46","hashOfConfig":"28"},{"size":652,"mtime":1611445368048,"results":"47","hashOfConfig":"28"},{"size":382,"mtime":1611449458699,"results":"48","hashOfConfig":"28"},{"size":1773,"mtime":1611458339396,"results":"49","hashOfConfig":"28"},{"size":3590,"mtime":1611458294261,"results":"50","hashOfConfig":"28"},{"size":1138,"mtime":1611449820929,"results":"51","hashOfConfig":"28"},{"size":788,"mtime":1611450502003,"results":"52","hashOfConfig":"28"},{"size":491,"mtime":1611458795850,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"1owrf14",{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"56"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"56"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82","usedDeprecatedRules":"56"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"56"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/c/Users/leeri/compstore/client/src/index.js",[],["112","113"],"/mnt/c/Users/leeri/compstore/client/src/reportWebVitals.js",[],["114","115"],"/mnt/c/Users/leeri/compstore/client/src/App.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/Home.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/auth/Register.js",["116"],"import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\n\nconst Register = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    if (user && user.token) history.push(\"/\");\n  }, [user]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // console.log(\"ENV --->\", process.env.REACT_APP_REGISTER_REDIRECT_URL);\n    const config = {\n      url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\n      handleCodeInApp: true,\n    };\n\n    await auth.sendSignInLinkToEmail(email, config);\n    toast.success(\n      `Email is sent to ${email}. Click the link to complete your registration.`\n    );\n    // save user email in local storage\n    window.localStorage.setItem(\"emailForRegistration\", email);\n    // clear state\n    setEmail(\"\");\n  };\n\n  const registerForm = () => (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"email\"\n        className=\"form-control\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        placeholder=\"Your email\"\n        autoFocus\n      />\n\n      <br />\n      <button type=\"submit\" className=\"btn btn-raised\">\n        Register\n      </button>\n    </form>\n  );\n\n  return (\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          <h4>Register</h4>\n          {registerForm()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;","/mnt/c/Users/leeri/compstore/client/src/pages/auth/Login.js",["117"],"import React, { useState, useEffect } from \"react\";\nimport { auth, googleAuthProvider } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { Button } from \"antd\";\nimport { MailOutlined, GoogleOutlined } from \"@ant-design/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst createOrUpdateUser = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/create-or-update-user`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nconst Login = ({ history }) => {\n  const [email, setEmail] = useState(\"gqlreactnode@gmail.com\");\n  const [password, setPassword] = useState(\"gggggg\");\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    if (user && user.token) history.push(\"/\");\n  }, [user]);\n\n  let dispatch = useDispatch();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    // console.table(email, password);\n    try {\n      const result = await auth.signInWithEmailAndPassword(email, password);\n      // console.log(result);\n      const { user } = result;\n      const idTokenResult = await user.getIdTokenResult();\n\n      createOrUpdateUser(idTokenResult.token)\n        .then((res) => console.log(\"CREATE OR UPDATE RES\", res))\n        .catch();\n\n      // dispatch({\n      //   type: \"LOGGED_IN_USER\",\n      //   payload: {\n      //     email: user.email,\n      //     token: idTokenResult.token,\n      //   },\n      // });\n      // history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n      toast.error(error.message);\n      setLoading(false);\n    }\n  };\n\n  const googleLogin = async () => {\n    auth\n      .signInWithPopup(googleAuthProvider)\n      .then(async (result) => {\n        const { user } = result;\n        const idTokenResult = await user.getIdTokenResult();\n        dispatch({\n          type: \"LOGGED_IN_USER\",\n          payload: {\n            email: user.email,\n            token: idTokenResult.token,\n          },\n        });\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n        toast.error(err.message);\n      });\n  };\n\n  const loginForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Your email\"\n          autoFocus\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"Your password\"\n        />\n      </div>\n\n      <br />\n      <Button\n        onClick={handleSubmit}\n        type=\"primary\"\n        className=\"mb-3\"\n        block\n        shape=\"round\"\n        icon={<MailOutlined />}\n        size=\"large\"\n        disabled={!email || password.length < 6}\n      >\n        Login with Email/Password\n      </Button>\n    </form>\n  );\n\n  return (\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading...</h4>\n          ) : (\n            <h4>Login</h4>\n          )}\n          {loginForm()}\n\n          <Button\n            onClick={googleLogin}\n            type=\"danger\"\n            className=\"mb-3\"\n            block\n            shape=\"round\"\n            icon={<GoogleOutlined />}\n            size=\"large\"\n          >\n            Login with Google\n          </Button>\n\n          <Link to=\"/forgot/password\" className=\"float-right text-danger\">\n            Forgot Password\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;","/mnt/c/Users/leeri/compstore/client/src/components/nav/Header.js",[],"/mnt/c/Users/leeri/compstore/client/src/firebase.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/auth/RegisterComplete.js",[],"/mnt/c/Users/leeri/compstore/client/src/reducers/index.js",[],"/mnt/c/Users/leeri/compstore/client/src/reducers/userReducer.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/auth/ForgotPassword.js",["118"],"import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\n\nconst ForgotPassword = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    if (user && user.token) history.push(\"/\");\n  }, [user]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const config = {\n      url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\n      handleCodeInApp: true,\n    };\n\n    await auth\n      .sendPasswordResetEmail(email, config)\n      .then(() => {\n        setEmail(\"\");\n        setLoading(false);\n        toast.success(\"Check your email for password reset link\");\n      })\n      .catch((error) => {\n        setLoading(false);\n        toast.error(error.message);\n        console.log(\"ERROR MSG IN FORGOT PASSWORD\", error);\n      });\n  };\n\n  return (\n    <div className=\"container col-md-6 offset-md-3 p-5\">\n      {loading ? (\n        <h4 className=\"text-danger\">Loading</h4>\n      ) : (\n        <h4>Forgot Password</h4>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Type your email\"\n          autoFocus\n        />\n        <br />\n        <button className=\"btn btn-raised\" disabled={!email}>\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ForgotPassword;","/mnt/c/Users/leeri/compstore/client/src/pages/user/History.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/user/Password.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/user/Wishlist.js",[],"/mnt/c/Users/leeri/compstore/client/src/functions/auth.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/nav/UserNav.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/routes/AdminRoute.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/routes/UserRoute.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/routes/LoadingToRedirect.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/admin/AdminDashboard.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/admin/category/CategoryUpdate.js",["119"],"import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { getCategory, updateCategory } from \"../../../functions/category\";\nimport CategoryForm from \"../../../components/forms/CategoryForm\";\n\nconst CategoryUpdate = ({ history, match }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const [name, setName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    loadCategory();\n  }, []);\n\n  const loadCategory = () =>\n    getCategory(match.params.slug).then((c) => setName(c.data.name));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(name);\n    setLoading(true);\n    updateCategory(match.params.slug, { name }, user.token)\n      .then((res) => {\n        // console.log(res)\n        setLoading(false);\n        setName(\"\");\n        toast.success(`\"${res.data.name}\" is updated`);\n        history.push(\"/admin/category\");\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n        if (err.response.status === 400) toast.error(err.response.data);\n      });\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n        <div className=\"col\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading..</h4>\n          ) : (\n            <h4>Update category</h4>\n          )}\n\n          <CategoryForm\n            handleSubmit={handleSubmit}\n            name={name}\n            setName={setName}\n          />\n\n          <hr />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryUpdate;\n","/mnt/c/Users/leeri/compstore/client/src/pages/admin/category/CategoryCreate.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/nav/AdminNav.js",[],"/mnt/c/Users/leeri/compstore/client/src/functions/category.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/forms/CategoryForm.js",[],{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","replacedBy":"123"},{"ruleId":"120","replacedBy":"124"},{"ruleId":"122","replacedBy":"125"},{"ruleId":"126","severity":1,"message":"127","line":13,"column":6,"nodeType":"128","endLine":13,"endColumn":12,"suggestions":"129"},{"ruleId":"126","severity":1,"message":"127","line":31,"column":6,"nodeType":"128","endLine":31,"endColumn":12,"suggestions":"130"},{"ruleId":"126","severity":1,"message":"127","line":14,"column":6,"nodeType":"128","endLine":14,"endColumn":12,"suggestions":"131"},{"ruleId":"126","severity":1,"message":"132","line":16,"column":6,"nodeType":"128","endLine":16,"endColumn":8,"suggestions":"133"},"no-native-reassign",["134"],"no-negated-in-lhs",["135"],["134"],["135"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["136"],["137"],["138"],"React Hook useEffect has a missing dependency: 'loadCategory'. Either include it or remove the dependency array.",["139"],"no-global-assign","no-unsafe-negation",{"desc":"140","fix":"141"},{"desc":"140","fix":"142"},{"desc":"140","fix":"143"},{"desc":"144","fix":"145"},"Update the dependencies array to be: [history, user]",{"range":"146","text":"147"},{"range":"148","text":"147"},{"range":"149","text":"147"},"Update the dependencies array to be: [loadCategory]",{"range":"150","text":"151"},[386,392],"[history, user]",[915,921],[441,447],[579,581],"[loadCategory]"]
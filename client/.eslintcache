[{"/mnt/c/Users/leeri/compstore/client/src/index.js":"1","/mnt/c/Users/leeri/compstore/client/src/reportWebVitals.js":"2","/mnt/c/Users/leeri/compstore/client/src/App.js":"3","/mnt/c/Users/leeri/compstore/client/src/pages/Home.js":"4","/mnt/c/Users/leeri/compstore/client/src/pages/auth/Register.js":"5","/mnt/c/Users/leeri/compstore/client/src/pages/auth/Login.js":"6","/mnt/c/Users/leeri/compstore/client/src/components/nav/Header.js":"7","/mnt/c/Users/leeri/compstore/client/src/firebase.js":"8","/mnt/c/Users/leeri/compstore/client/src/pages/auth/RegisterComplete.js":"9","/mnt/c/Users/leeri/compstore/client/src/reducers/index.js":"10","/mnt/c/Users/leeri/compstore/client/src/reducers/userReducer.js":"11","/mnt/c/Users/leeri/compstore/client/src/pages/auth/ForgotPassword.js":"12","/mnt/c/Users/leeri/compstore/client/src/pages/user/History.js":"13","/mnt/c/Users/leeri/compstore/client/src/pages/user/Password.js":"14","/mnt/c/Users/leeri/compstore/client/src/pages/user/Wishlist.js":"15","/mnt/c/Users/leeri/compstore/client/src/functions/auth.js":"16","/mnt/c/Users/leeri/compstore/client/src/components/nav/UserNav.js":"17","/mnt/c/Users/leeri/compstore/client/src/components/routes/AdminRoute.js":"18","/mnt/c/Users/leeri/compstore/client/src/components/routes/UserRoute.js":"19","/mnt/c/Users/leeri/compstore/client/src/components/routes/LoadingToRedirect.js":"20","/mnt/c/Users/leeri/compstore/client/src/pages/admin/AdminDashboard.js":"21"},{"size":849,"mtime":1611331289368,"results":"22","hashOfConfig":"23"},{"size":362,"mtime":1611187435835,"results":"24","hashOfConfig":"23"},{"size":2462,"mtime":1611446083849,"results":"25","hashOfConfig":"23"},{"size":143,"mtime":1611189653864,"results":"26","hashOfConfig":"23"},{"size":1592,"mtime":1611330701661,"results":"27","hashOfConfig":"23"},{"size":3917,"mtime":1611430687439,"results":"28","hashOfConfig":"23"},{"size":1803,"mtime":1611330581862,"results":"29","hashOfConfig":"23"},{"size":680,"mtime":1611258893347,"results":"30","hashOfConfig":"23"},{"size":2277,"mtime":1611330732231,"results":"31","hashOfConfig":"23"},{"size":178,"mtime":1611263013959,"results":"32","hashOfConfig":"23"},{"size":223,"mtime":1611329478190,"results":"33","hashOfConfig":"23"},{"size":1648,"mtime":1611332113615,"results":"34","hashOfConfig":"23"},{"size":330,"mtime":1611444502774,"results":"35","hashOfConfig":"23"},{"size":1705,"mtime":1611444535577,"results":"36","hashOfConfig":"23"},{"size":333,"mtime":1611444553655,"results":"37","hashOfConfig":"23"},{"size":644,"mtime":1611444302596,"results":"38","hashOfConfig":"23"},{"size":590,"mtime":1611444140069,"results":"39","hashOfConfig":"23"},{"size":800,"mtime":1611446152846,"results":"40","hashOfConfig":"23"},{"size":377,"mtime":1611445400338,"results":"41","hashOfConfig":"23"},{"size":652,"mtime":1611445368048,"results":"42","hashOfConfig":"23"},{"size":153,"mtime":1611447177807,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"1owrf14",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"46"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"46"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"46"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/mnt/c/Users/leeri/compstore/client/src/index.js",[],["91","92"],"/mnt/c/Users/leeri/compstore/client/src/reportWebVitals.js",[],["93","94"],"/mnt/c/Users/leeri/compstore/client/src/App.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/Home.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/auth/Register.js",["95"],"import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\n\nconst Register = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    if (user && user.token) history.push(\"/\");\n  }, [user]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    // console.log(\"ENV --->\", process.env.REACT_APP_REGISTER_REDIRECT_URL);\n    const config = {\n      url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\n      handleCodeInApp: true,\n    };\n\n    await auth.sendSignInLinkToEmail(email, config);\n    toast.success(\n      `Email is sent to ${email}. Click the link to complete your registration.`\n    );\n    // save user email in local storage\n    window.localStorage.setItem(\"emailForRegistration\", email);\n    // clear state\n    setEmail(\"\");\n  };\n\n  const registerForm = () => (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"email\"\n        className=\"form-control\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        placeholder=\"Your email\"\n        autoFocus\n      />\n\n      <br />\n      <button type=\"submit\" className=\"btn btn-raised\">\n        Register\n      </button>\n    </form>\n  );\n\n  return (\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          <h4>Register</h4>\n          {registerForm()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;","/mnt/c/Users/leeri/compstore/client/src/pages/auth/Login.js",["96"],"import React, { useState, useEffect } from \"react\";\nimport { auth, googleAuthProvider } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { Button } from \"antd\";\nimport { MailOutlined, GoogleOutlined } from \"@ant-design/icons\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst createOrUpdateUser = async (authtoken) => {\n  return await axios.post(\n    `${process.env.REACT_APP_API}/create-or-update-user`,\n    {},\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nconst Login = ({ history }) => {\n  const [email, setEmail] = useState(\"gqlreactnode@gmail.com\");\n  const [password, setPassword] = useState(\"gggggg\");\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    if (user && user.token) history.push(\"/\");\n  }, [user]);\n\n  let dispatch = useDispatch();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    // console.table(email, password);\n    try {\n      const result = await auth.signInWithEmailAndPassword(email, password);\n      // console.log(result);\n      const { user } = result;\n      const idTokenResult = await user.getIdTokenResult();\n\n      createOrUpdateUser(idTokenResult.token)\n        .then((res) => console.log(\"CREATE OR UPDATE RES\", res))\n        .catch();\n\n      // dispatch({\n      //   type: \"LOGGED_IN_USER\",\n      //   payload: {\n      //     email: user.email,\n      //     token: idTokenResult.token,\n      //   },\n      // });\n      // history.push(\"/\");\n    } catch (error) {\n      console.log(error);\n      toast.error(error.message);\n      setLoading(false);\n    }\n  };\n\n  const googleLogin = async () => {\n    auth\n      .signInWithPopup(googleAuthProvider)\n      .then(async (result) => {\n        const { user } = result;\n        const idTokenResult = await user.getIdTokenResult();\n        dispatch({\n          type: \"LOGGED_IN_USER\",\n          payload: {\n            email: user.email,\n            token: idTokenResult.token,\n          },\n        });\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n        toast.error(err.message);\n      });\n  };\n\n  const loginForm = () => (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Your email\"\n          autoFocus\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <input\n          type=\"password\"\n          className=\"form-control\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"Your password\"\n        />\n      </div>\n\n      <br />\n      <Button\n        onClick={handleSubmit}\n        type=\"primary\"\n        className=\"mb-3\"\n        block\n        shape=\"round\"\n        icon={<MailOutlined />}\n        size=\"large\"\n        disabled={!email || password.length < 6}\n      >\n        Login with Email/Password\n      </Button>\n    </form>\n  );\n\n  return (\n    <div className=\"container p-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6 offset-md-3\">\n          {loading ? (\n            <h4 className=\"text-danger\">Loading...</h4>\n          ) : (\n            <h4>Login</h4>\n          )}\n          {loginForm()}\n\n          <Button\n            onClick={googleLogin}\n            type=\"danger\"\n            className=\"mb-3\"\n            block\n            shape=\"round\"\n            icon={<GoogleOutlined />}\n            size=\"large\"\n          >\n            Login with Google\n          </Button>\n\n          <Link to=\"/forgot/password\" className=\"float-right text-danger\">\n            Forgot Password\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;","/mnt/c/Users/leeri/compstore/client/src/components/nav/Header.js",[],"/mnt/c/Users/leeri/compstore/client/src/firebase.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/auth/RegisterComplete.js",[],"/mnt/c/Users/leeri/compstore/client/src/reducers/index.js",[],"/mnt/c/Users/leeri/compstore/client/src/reducers/userReducer.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/auth/ForgotPassword.js",["97"],"import React, { useState, useEffect } from \"react\";\nimport { auth } from \"../../firebase\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\n\nconst ForgotPassword = ({ history }) => {\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    if (user && user.token) history.push(\"/\");\n  }, [user]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    const config = {\n      url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\n      handleCodeInApp: true,\n    };\n\n    await auth\n      .sendPasswordResetEmail(email, config)\n      .then(() => {\n        setEmail(\"\");\n        setLoading(false);\n        toast.success(\"Check your email for password reset link\");\n      })\n      .catch((error) => {\n        setLoading(false);\n        toast.error(error.message);\n        console.log(\"ERROR MSG IN FORGOT PASSWORD\", error);\n      });\n  };\n\n  return (\n    <div className=\"container col-md-6 offset-md-3 p-5\">\n      {loading ? (\n        <h4 className=\"text-danger\">Loading</h4>\n      ) : (\n        <h4>Forgot Password</h4>\n      )}\n\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          className=\"form-control\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Type your email\"\n          autoFocus\n        />\n        <br />\n        <button className=\"btn btn-raised\" disabled={!email}>\n          Submit\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default ForgotPassword;","/mnt/c/Users/leeri/compstore/client/src/pages/user/History.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/user/Password.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/user/Wishlist.js",[],"/mnt/c/Users/leeri/compstore/client/src/functions/auth.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/nav/UserNav.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/routes/AdminRoute.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/routes/UserRoute.js",[],"/mnt/c/Users/leeri/compstore/client/src/components/routes/LoadingToRedirect.js",[],"/mnt/c/Users/leeri/compstore/client/src/pages/admin/AdminDashboard.js",[],{"ruleId":"98","replacedBy":"99"},{"ruleId":"100","replacedBy":"101"},{"ruleId":"98","replacedBy":"102"},{"ruleId":"100","replacedBy":"103"},{"ruleId":"104","severity":1,"message":"105","line":13,"column":6,"nodeType":"106","endLine":13,"endColumn":12,"suggestions":"107"},{"ruleId":"104","severity":1,"message":"105","line":31,"column":6,"nodeType":"106","endLine":31,"endColumn":12,"suggestions":"108"},{"ruleId":"104","severity":1,"message":"105","line":14,"column":6,"nodeType":"106","endLine":14,"endColumn":12,"suggestions":"109"},"no-native-reassign",["110"],"no-negated-in-lhs",["111"],["110"],["111"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["112"],["113"],["114"],"no-global-assign","no-unsafe-negation",{"desc":"115","fix":"116"},{"desc":"115","fix":"117"},{"desc":"115","fix":"118"},"Update the dependencies array to be: [history, user]",{"range":"119","text":"120"},{"range":"121","text":"120"},{"range":"122","text":"120"},[386,392],"[history, user]",[915,921],[441,447]]